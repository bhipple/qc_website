;; ============================================================================
;;                               File Handling
;; ============================================================================
(defun get-file-lines (file)
  (with-open-file (stream file)
    (loop for line = (read-line stream nil)
          while line
          collect line)))

(defun get-fname-content-pair (fname)
  (cons (file-namestring fname) (get-file-lines fname)))

(defun get-csv-files (path)
  (directory (concatenate 'string path "*.csv")))

;; ============================================================================
;;                                Formatting
;; ============================================================================
(defun format-lines (lines)
  (format nil "峒怛峻扉铄螬ㄤ彐躅溴筱蜷痿轱ㄦ钺礤戾è钺礤泔铘孱舡疳轵ㄧ弭骖犴瀛泔铘孱舡疳轵骖犴濠┅ㄦ矧磲铋⒓璩峻岷集璩炯鹁峒鹁ㄣ狎钺礤泔铘孱舡疳轵ㄦ矧磲舡扉铄ㄣ潋钺礤泔铘孱舡疳轵┅┅ㄤ彐躅栳钿戾糸汶弭ī戾舄è骈戾钺礤ㄧ弭泱霏骈戾┅ㄤ弩泸轲糸镱磲疸狎＇溴筱蜷痿轱骈戾钺礤螬┅ㄦ矧磲铋狺溴筱蜷痿轱铙┅换浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇换弱钽桢铘镲柔钿戾蝮换浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇耢厚蹰汶祜徜㈣躅汨孱麸雉ㄨ躅汨孱麸雉轰彐轭瀛遽簌栳钿戾糸汶弭乎蜷簪ī箦翩ㄨ躅汨孱麸雉恒镱翦铘豉疱㈣繇膦ㄨ犷潇瀛糸汶弭螬ㄤ彐疳蜥礤翦徙沐痿矧磲脲轭篝犷沐ц躅汨孱麸雉哄狍徙沐痿矧吼矧床床┅ㄨ躅汨孱麸雉后翎螋徙沐痿矧